(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ce1e"],{M5RM:function(t,e,r){"use strict";r.r(e);var a=r("t3Un"),n=r("EVdn"),o=r.n(n),c={data:function(){return{draftsList:[],flag:0}},mounted:function(){var t=this;o.a.ajax({type:"GET",url:a.a.BASEURL+"/projectInfo",xhrFields:{withCredentials:!0},contentType:"application/json",headers:{Authorization:localStorage.getItem("token")},data:"userFlag="+this.flag,success:function(e){console.log(e,"草稿中的项目"),e.projectList&&(t.draftsList=e.projectList)},error:function(t){console.log(t.status)}})},methods:{editDraft:function(t){var e=this;console.log(t),t?(this.isEdit=!0,o.a.ajax({type:"GET",url:a.a.BASEURL+"/getCurrentEditProject",xhrFields:{withCredentials:!0},headers:{Authorization:localStorage.getItem("token")},data:"projectId="+t,success:function(t){console.log("getCurrentEditProject",t),!0===t.isRead?t.projectDetail&&(e.currentDraftProject=t.projectDetail,e.currentDraftProject.contract=t.resultString,e.newProgram.name=e.currentDraftProject.projectName,e.newProgram.id=e.currentDraftProject.projectId,e.newProgram.rentId=e.currentDraftProject.adminRentId,e.newProgram.AreaManager=e.currentDraftProject.adminAreaId+" "+e.currentDraftProject.adminAreaUser.userName,e.newProgram.date=e.currentDraftProject.projectStart):e.$message({type:"warning",message:"读取失败！"}),!1===t.isAllowed&&e.$message({type:"warning",message:"您没有权限！"})},error:function(t){console.log(t.status)}})):this.newProgram.id=(new Date).getTime()}}},s=(r("j+YV"),r("KHd+")),i=Object(s.a)(c,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("el-row",{staticStyle:{"margin-top":"20px"}},[r("el-card",{staticClass:"box-card elCard",attrs:{shadow:"hover"}},[r("span",{staticClass:"cardContent"},[t._v("新建空白项目")]),t._v(" "),r("el-button",{staticClass:"cardBtn",attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(e){t.editDraft()}}})],1)],1),t._v(" "),t._l(t.draftsList,function(e){return r("el-row",{staticStyle:{"margin-top":"20px"}},[r("el-card",{staticClass:"box-card elCard",attrs:{shadow:"hover"}},[r("span",{staticClass:"cardContent"},[t._v(t._s(e.projectName)+"("+t._s(e.projectId)+")")]),t._v(" "),r("el-button",{staticClass:"cardBtn",attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(r){t.editDraft(e.projectId)}}})],1)],1)})],2)},[],!1,null,"75f6d4c0",null);i.options.__file="index.vue";e.default=i.exports},"j+YV":function(t,e,r){"use strict";var a=r("mEJ/");r.n(a).a},"mEJ/":function(t,e,r){}}]);